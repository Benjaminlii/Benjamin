# 一. UML图的总结

------

[TOC]

------

本篇博客的部分内容总结自:[UML各种图总结-精华](https://www.cnblogs.com/jiangds/p/6596595.html)

## 1. 基本概念

​		UML（Unified Modeling Language）即统一建模语言，为面向对象开发系统的产品进行说明、可视化、和编制文档的一种标准语言。下面将对UML的**<u>九种图+包图</u>**的基本概念进行介绍以及各个图的使用场景。

​		UML图分为用例视图、设计视图、进程视图、实现视图和拓扑视图，又可以静动分为静态视图和动态视图。静态图分为：**<u>用例图，类图，对象图，包图，构件图，部署图</u>**。动态图分为：**<u>状态图，活动图，协作图，序列图</u>**。

![img](https://images2015.cnblogs.com/blog/1039166/201703/1039166-20170321200512502-745718093.png)

## 2. 用例图

​		用例图用于从用户角度阐述**<u>软件的各个功能</u>**和其**<u>功能的使用者</u>**.主要使用于需求分析阶段,是非常符合用户思维的设计.

### (1). 用例图所包含的元素

#### 1). 参与者(Actor)

​		与软件进行交互的用户,组织或者其他外部系统.

![img](https://images0.cnblogs.com/blog2015/775886/201506/201151512167414.png)

#### 2). 用例(Use Case)

​		用例就是外部可见的系统功能,不包含其内部逻辑实现.这里完全站在不懂技术的用户的角度思考问题.

![img](https://images0.cnblogs.com/blog2015/775886/201506/201156222169755.png)

#### 3). 系统边界

​		用来分割用例,将用例分割为不同的子系统,子系统内部的功能联系紧密.当然也可以只存在一个完整的系统边界,例如下图.

![img](https://images0.cnblogs.com/blog2015/775886/201506/201522249517205.png)

### (2). 用例图包含的关系

#### 1). 关联

​		参与者和用例的关系,任何一方都可发送或接受消息.

​		画法:实线,无箭头.

![img](https://images0.cnblogs.com/blog2015/775886/201506/201545377481898.png)

#### 2). 泛化

​		可以理解为继承关系.父用例通常是抽象的.

​		画法:实线,空心三角形箭头,由子用例指向父用例.

![img](https://images0.cnblogs.com/blog2015/775886/201506/201746081706263.png)

#### 3). 包含

​		将复杂用例划分为较小的步骤,类似程序中的代码封装,主程序中调用子过程.

​		画法:虚线,线状箭头,标记<\<includes>>,复杂用例指向子过程.

![img](https://images0.cnblogs.com/blog2015/775886/201506/201813400459106.png)

#### 4). 扩展

​		指用例功能的延伸,相当于为基础用例提供一个附加功能.

​		画法:虚线,线状箭头,标记<\<extends>>,拓展用例指向主用例.

![img](https://images0.cnblogs.com/blog2015/775886/201506/201822539989736.png)

## 3. 类图

​		根据用例图抽象出类,用于面向对象程序设计.描述类的内部结构和类与类之间的关系,是一种静态结构图.

### (1). 类图基础属性

#### 1). 类名

#### 2). 属性域

​		访问级别 字段名 : 类型

#### 3). 方法域

​		访问级别 方法名(参数) : 返回值类型

>   +表示public
>   -表示private
>   #表示protected
>   ~表示default,也就是包权限
>   _下划线表示static
>   斜体表示抽象

![img](https://images2018.cnblogs.com/blog/1409322/201807/1409322-20180702171347311-2018214427.png)

![img](https://upload-images.jianshu.io/upload_images/5336514-d05e8edc42eb1469.png?imageMogr2/auto-orient/strip|imageView2/2/w/512/format/webp)

### (2). 类与类之间关系

#### 1). 泛化(Generalization)

​		表示继承关系或者类对接口的实现关系.Java中即 extends 和 implements 两个关键字.

​		画法:空心三角形箭头,实线表示继承父类,虚线表示实现接口.箭头指向父类或者接口.

![img](https://upload-images.jianshu.io/upload_images/5336514-dc3ac9dd64968b59.png?imageMogr2/auto-orient/strip|imageView2/2/w/231/format/webp)

![img](https://upload-images.jianshu.io/upload_images/5336514-2941b3300988ffe9.png?imageMogr2/auto-orient/strip|imageView2/2/w/314/format/webp)

#### 2). 依赖(Dependency)

​		一个类的实现需要另一个类的协助,如方法的参数,局部变量或者静态方法的调用.

​		画法:虚线,线状箭头

![img](https://upload-images.jianshu.io/upload_images/5336514-823083d2d77916ae.png?imageMogr2/auto-orient/strip|imageView2/2/w/414/format/webp)

#### 3). 关联(Association)

​		一个类知道另一个类,成员变量.

​		画法:实线,线状箭头,如果为双向关联,则去掉箭头或者双向箭头都可以.箭头指向成员变量

![img](https://images2015.cnblogs.com/blog/807775/201607/807775-20160723144237560-523170503.png)

#### 4). 聚合(Aggregation)

​		整体与部分的关系,是一种弱的‘拥有’关系,**<u>部分可以独立存在</u>**.是关联的一种,语法上无发区分,需要依赖逻辑区分.**两个对象具有各自的生命周期**.

​		画法:在关联的基础上,加空心菱形.

![img](https://upload-images.jianshu.io/upload_images/5336514-e63191f4e23f2ad9.png?imageMogr2/auto-orient/strip|imageView2/2/w/297/format/webp)

#### 5). 组合(Composition)

​		同样是整体和部分的关系,这里是强"拥有"关系,部分不可以独立存在,是关联的一种.**部分和整体的生命周期一样**.

​		画法:关联的基础上,加实心菱形.

![img](https://upload-images.jianshu.io/upload_images/5336514-dfb604bd1c4408d5.png?imageMogr2/auto-orient/strip|imageView2/2/w/365/format/webp)

## 4. 对象图

​		描述参与交互的**<u>各个对象</u>**在交互过程中的**<u>某时刻的状态</u>**(所以只有属性,不包含方法),可以看做是类图在某一时刻的快照.表示对象之间的特定关系.

​		不包含对象的方法,名称栏新增对象名.属性栏中为当前值.

![img](https://img2018.cnblogs.com/blog/1130413/201902/1130413-20190208204349168-1841061414.png)

​		对象图中的建模元素主要有对象和链(所有关系统一使用实现来表示,不加以区分)，对象是类的实例，链是类之间的关联关系的实例。

![](https://img-blog.csdn.net/20161103123720408)

## 5. 状态图

​		一种由**<u>状态,变迁,事件和活动</u>**组成的自动机.用来描述类的对象所有可能的状态以及状态转移条件.

### (1). 组成元素

-   状态：圆角矩形,文字叙述其状态内容
-   转移：箭头,文字叙述转移条件
-   起点：一个黑点 
-   终点：一个圈加一个黑点 

### (2). 状态机

​		描述了系统从一个状态响应一个事件后达到另一个状态的一系列行为.

![img](https://img-blog.csdn.net/20170122102952276?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvTHV5YW5j/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)

## 6. 活动图

​		是状态图的特殊情况,所有的状态都处于活动状态,**<u>本质上是一种流程图</u>**.支持并发进程.

### (1). 组成元素

#### 1). 起点

​		实心黑色圆点.

#### 2). 终点

​		圆圈加内部实心黑色圆点.

#### 3). 动作状态

​		是指原子的不可中断的动作，并在此动作完成后通过完成转换转向另一个状态.

#### 4). 动作流

​		动作之间的转换，用带箭头的直线表示，箭头的方向指向转入的方向

#### 5). 分支与合并

​		菱形表示,由一个箭头指向分支符号(转换),一个或者多个箭头从分支符号指向外(离开转换).每一个离开转换都对应一个监护条件.满足条件才能执行该转换.

![112212123](https://img-blog.csdn.net/20181004145712494?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3doYzg4ODY2Ng==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)

#### 6). 分叉与汇合

​		动作流分为两个或者多个并发运行的分支.

![123123](https://img-blog.csdn.net/20181004145909328?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3doYzg4ODY2Ng==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)

#### 7). 泳道

​		将活动图中的活动划分为若干组，并把每一个组指定个负责这组活动的业务组织，即对象。在活动图中，泳道区分了负责活动的对象，它明确的表示了哪些活动是由哪些对象进行的，在包含泳道的活动图中，每个活动只能明确的属于一个泳道

![å¨è¿éæå¥å¾çæè¿°](https://img-blog.csdn.net/20181004150009949?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3doYzg4ODY2Ng==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)

![è¿éåå¾çæè¿°](https://img-blog.csdn.net/20180908102343584?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2RhbWlzaGlkYWkxNQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)

## 7. 序列图/时序图

​		交互图的一种,描述了对象之间消息发送的先后顺序,强调时间顺序.

### (1). 组成元素

#### 1). 角色

​		程序外的其他人或者其他系统.

#### 2). 对象

​		位于时序图的顶部,是一个矩形框.表示处理响应步骤的处理者.

#### 3). 生命线

​		角色和对象都有一条向下的生命线,是一条虚线.

![img](https://images2015.cnblogs.com/blog/1039166/201703/1039166-20170323102912455-1219449106.png)

#### 4). 控制焦点

​		生命线上的窄矩形框,代表生命周期中这段时间处于激活状态.

#### 5). 消息

​		代表对象之间发送的信息.分为三种:

- 同步消息:会等待返回消息.使用实线+实心箭头表示.
![img](https://images2015.cnblogs.com/blog/1039166/201703/1039166-20170323103344815-667545820.png)
-   异步消息:不进行等待,发完消息后继续自己的活动,使用并发完成.使用实线+线状箭头表示.
![img](https://images2015.cnblogs.com/blog/1039166/201703/1039166-20170323103907408-1194389045.png)
-   返回消息:对消息的回应,相当于返回值.使用虚线+线状箭头表示.

![img](https://img-blog.csdn.net/20180704144557365?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2ZseV96eHk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)

## 8. 协作图

​		交互图的一种.按照空间结构布图,而非时序图的时间结构.

​		协作图与时序图在语义上是等价的，二者可以相互转换，而不会丢失信息。

![img](https://upload-images.jianshu.io/upload_images/12730381-e987cd8a8e38fb95.png?imageMogr2/auto-orient/strip|imageView2/2/w/698/format/webp)

![img](https://upload-images.jianshu.io/upload_images/12730381-364199e3bc770d11.png?imageMogr2/auto-orient/strip|imageView2/2/w/576/format/webp)

### (1). 组成元素

#### 1). 对象

![img](https://upload-images.jianshu.io/upload_images/12730381-a75050171358658f.png?imageMogr2/auto-orient/strip|imageView2/2/w/533/format/webp)

#### 2). 链接

​		用来关联对象,使用无箭头的实线链接.

#### 3). 消息

​		消息是协作图中对象与对象之间通信的方式

![img](https://upload-images.jianshu.io/upload_images/12730381-edfb8c378ee985e3.png?imageMogr2/auto-orient/strip|imageView2/2/w/874/format/webp)

## 9. 构件图

​		构件图也叫组件图,由构件,接口和构件之间的关系构成

​		用来表示系统中构件与构件之间,类或者接口与构件之间的关系.(构件是系统中可替换的物理部分，它包装了实现而且遵从并提供一组接口的实现)

​		其中构件之间的关系为依赖,类或接口与构件之间的关系为依赖或者实线.

